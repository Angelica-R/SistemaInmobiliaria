@model Sistema_Inmobiliaria.Models.usuarios

@{
    ViewBag.Title = (Model.codusuario > 0 ? Model.nombre : "Nuevo Registro");
    List<Sistema_Inmobiliaria.Models.roles> roles = ViewBag.roles;
}

<style>
    .text-white {
        color: white !important;
    }

    .border-primary {
        border-color: #28A745 !important;
    }

    .input-group-text-primary {
        background-color: #28a745 !important;
        color: white !important;
    }

    .form-control-border-primary {
        border: 1px solid #28A745 !important;
    }
    /*.card-header.bg-primary-text-white {
        background-color: #28a745 !important;
        color: white !important;
    }*/
</style>

<h2>Agregar / Editar</h2>
<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="~/Usuario/Index">Usuarios</a></li>
        <li class="breadcrumb-item active">@(Model.codusuario > 0 ? Model.nombre : "Nuevo Registro")</li>
    </ol>
</nav>

@using (Html.BeginForm("Guardar", "Usuarios", FormMethod.Post))
{
    @Html.HiddenFor(x => x.codusuario)
    <div class="card shadow-sm border-primary">
        <div class="card-header bg-primary-text-white">
            <h5 class="mb-0"><i class="fas fa-info-circle"></i> Información del Usuario</h5>
        </div>
        <div class="card-body">
            <!-- ID Row -->
            <div class="row mb-3">
                <div class="col-md-12">
                    <div class="input-group border-primary">
                        <span class="input-group-text input-group-text-primary"><i class="fas fa-id-badge"></i> ID:</span>
                        @Html.TextBoxFor(x => x.codusuario, new { @class = "form-control", @readonly = "readonly" })
                    </div>
                </div>
            </div>
            <!-- Nombres and Apellidos Row -->
            <div class="row mb-3">
                <div class="col-md-6">
                    <div class="input-group border-primary">
                        <span class="input-group-text input-group-text-primary"><i class="fas fa-user"></i> Nombres:</span>
                        @Html.TextBoxFor(x => x.nombre, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.nombre, null, new { @class = "text-danger" })
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="input-group border-primary">
                        <span class="input-group-text input-group-text-primary"><i class="fas fa-user"></i> Apellidos:</span>
                        @Html.TextBoxFor(x => x.apellido, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.apellido, null, new { @class = "text-danger" })
                    </div>
                </div>
            </div>
            <!-- Teléfono and Dirección Row -->
            <div class="row mb-3">
                <div class="col-md-6">
                    <div class="input-group border-primary">
                        <span class="input-group-text input-group-text-primary"><i class="fas fa-phone"></i> Teléfono:</span>
                        @Html.TextBoxFor(x => x.telefono, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.telefono, null, new { @class = "text-danger" })
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="input-group border-primary">
                        <span class="input-group-text input-group-text-primary"><i class="fas fa-map-marker-alt"></i> Dirección:</span>
                        @Html.TextBoxFor(x => x.direccion, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.direccion, null, new { @class = "text-danger" })
                    </div>
                </div>
            </div>
            <!-- Email and Contraseña Row -->
            <div class="row mb-3">
                <div class="col-md-6">
                    <div class="input-group border-primary">
                        <span class="input-group-text input-group-text-primary"><i class="fas fa-envelope"></i> Email:</span>
                        @Html.TextBoxFor(x => x.email, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.email, null, new { @class = "text-danger" })
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="input-group border-primary">
                        <span class="input-group-text input-group-text-primary"><i class="fas fa-key"></i> Contraseña:</span>
                        @Html.TextBoxFor(x => x.clave, new { @class = "form-control" })
                        @Html.ValidationMessageFor(x => x.clave, null, new { @class = "text-danger" })
                    </div>
                </div>
            </div>
            <!-- Rol Row -->
            <div class="row mb-3">
                <div class="col-md-12">
                    <div class="input-group border-primary">
                        <span class="input-group-text input-group-text-primary"><i class="fas fa-user-tag"></i> Rol:</span>
                        <select name="codrol" class="form-control">
                            @foreach (var rol in roles)
                            {
                                <option @(Model.codrol == rol.codrol ? "selected" : "") value="@rol.codrol">@rol.descripcion</option>
                            }
                        </select>
                        @Html.ValidationMessageFor(x => x.codrol, null, new { @class = "text-danger" })
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br />
    <div class="text-end">
        <button type="submit" class="btn btn-primary">Guardar</button>
        <a href="~/Usuario" class="btn btn-danger">Cancelar</a>
    </div>
    <br />
}
